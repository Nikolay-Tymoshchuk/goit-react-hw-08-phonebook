"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[546],{1546:function(e,n,r){r.r(n),r.d(n,{default:function(){return v}});var t=r(1413),a=r(5861),s=r(885),o=r(4687),u=r.n(o),c=r(5290),i=r(9085),l=r(4685),d=r(7116),m=(r(5462),"ContactsForm_form__mz54l"),f=r(6192),p=r(2791),h=r(184);var v=function(){var e=(0,c.cI)(),n=e.register,r=e.handleSubmit,o=e.formState.errors,v=e.reset,b=(0,p.useState)(!1),x=(0,s.Z)(b,2),w=x[0],C=x[1],g=(0,d.N)().filteredContacts,j=(0,l.Tn)(),_=(0,s.Z)(j,1)[0],k=function(){var e=(0,a.Z)(u().mark((function e(n){var r,t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.name,t=n.number,e.prev=1,C(!0),e.next=5,null===g||void 0===g?void 0:g.find((function(e){return(null===e||void 0===e?void 0:e.name.toLowerCase())===r.toLowerCase()}));case 5:if(!e.sent){e.next=9;break}return i.Am.error("Contact ".concat(r," is already exist")),e.abrupt("return");case 9:return e.next=11,_({name:r,number:t});case 11:i.Am.success("Contact ".concat(r," has been added")),v(),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),i.Am.error("Oops! Something went wrong"),console.log("error :>> ",e.t0);case 19:return e.prev=19,C(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,15,19,22]])})));return function(n){return e.apply(this,arguments)}}();return(0,h.jsxs)("form",{className:m,onSubmit:function(e){return e.preventDefault()},autoComplete:"off",children:[(0,h.jsxs)("label",{children:["Name",(0,h.jsx)("input",(0,t.Z)({},n("name",{required:{value:!0,message:"This field is required"},pattern:{value:/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,message:"Name may contain only letters, apostrophe, dash and spaces"}}))),o.name&&(0,h.jsx)("p",{className:"error",children:o.name.message})]}),(0,h.jsxs)("label",{children:["Number",(0,h.jsx)("input",(0,t.Z)({},n("number",{required:{value:!0,message:"This field is required"},pattern:{value:/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,message:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}}))),o.number&&(0,h.jsx)("p",{className:"error",children:o.number.message})]}),w&&(0,h.jsx)(f.Z,{color:"#5c6386"}),(0,h.jsxs)("button",{type:"submit",onClick:r(k),disabled:w,children:[(0,h.jsx)("span",{children:"Add contact"}),(0,h.jsx)("i",{})]})]})}},7116:function(e,n,r){r.d(n,{N:function(){return u}});var t=r(4685),a=r(6351),s=r(5048),o=r(2791),u=function(){var e=(0,t.wY)().data,n=(0,s.v9)(a.zK);return{filteredContacts:(0,o.useMemo)((function(){var r;return null!==(r=null===e||void 0===e?void 0:e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).sort((function(e,n){return e.name.localeCompare(n.name)})))&&void 0!==r?r:[]}),[n,e]),contacts:e}}}}]);
//# sourceMappingURL=546.5c040425.chunk.js.map