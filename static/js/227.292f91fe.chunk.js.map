{"version":3,"file":"static/js/227.292f91fe.chunk.js","mappings":"qRACA,EAAuB,sBAAvB,EAAoD,sBAApD,EAAkF,uBAAlF,EAAsH,4B,SCMzGA,EAAU,SAAC,GAAuC,IAAD,IAApCC,QAAWC,EAAyB,EAAzBA,GAAIC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,OAC7C,ECL+B,SAACF,EAAIC,GACpC,OAAuCE,EAAAA,EAAAA,MAAvC,eAAOC,EAAP,KAAwBC,EAAxB,KAAwBA,UAElBC,EAAoB,mCAAG,+GAENF,EAAcJ,GAFR,cAEnBO,EAFmB,gBAGAA,EAAKC,MAHL,UAGnBC,EAHmB,iDAKhBC,QAAQC,WALQ,eAOvBC,QAAQC,IAAI,aAAcJ,GAPH,kBAQhBC,QAAQI,UARQ,mFAWlBJ,QAAQI,UAXU,0DAAH,qDAoC1B,MAAO,CAAEC,aArBY,WACnBC,EAAAA,GAAAA,QAAcV,IAAwB,CACpCW,QAAS,CACPC,OADO,WAEL,MAAM,oBAAN,OAA2BjB,EAA3B,MACD,GAEHkB,QAAS,CACPD,OADO,WAEL,MAAM,WAAN,OAAkBjB,EAAlB,2BACD,EACDmB,UAAW,KAEbZ,MAAO,CACLU,OADK,WAEH,MAAM,oDACP,EACDE,UAAW,MAGhB,EACsBf,UAAAA,EACxB,CDnCqCgB,CAAkBrB,EAAIC,GAAlDc,EAAR,EAAQA,aAAcV,EAAtB,EAAsBA,UAEtB,OACE,gBAAIiB,UAAWC,EAAf,WACE,SAAC,MAAD,CAAaD,UAAWC,KACxB,4BAAOtB,EAAP,QACA,0BAAOC,KACP,iBAAKoB,UAAWC,EAAhB,WACIlB,IACA,SAAC,MAAD,CACEiB,UAAWC,EACXC,KAAK,SACLC,SAAUpB,EACVqB,QAASX,EAJX,oBASDV,IACC,SAACsB,EAAA,EAAD,CAAMC,KAAM,GAAIC,WAAY,EAAGC,MAAO,EAAGC,MAAM,iBAKxD,EE/BD,EAAuB,2B,UCGR,SAASC,IACtB,OAAuCC,EAAAA,EAAAA,KAA/BC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,iBAElB,OACE,8BACGD,IACC,eAAIZ,UAAWC,EAAf,SACGY,EAAiBC,KAAI,SAAAC,GAAO,OAC3B,SAACvC,EAAD,CAA0BC,QAASsC,GAArBA,EAAQrC,GADK,OAOtC,C,mGCbYiC,EAAsB,WACjC,IAAcC,GAAaI,EAAAA,EAAAA,MAAnB/B,KACFgC,GAASC,EAAAA,EAAAA,IAAYC,EAAAA,IAY3B,MAAO,CAAEN,kBAVgBO,EAAAA,EAAAA,UAAQ,WAAO,IAAD,EACrC,wBACER,QADF,IACEA,OADF,EACEA,EACIK,QAAO,SAAAF,GACP,OAAOA,EAAQpC,KAAK0C,cAAcC,SAASL,EAAOI,cACnD,IACAE,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE7C,KAAK+C,cAAcD,EAAE9C,KAAjC,WALV,QAKqD,EAEtD,GAAE,CAACsC,EAAQL,IAEeA,SAAAA,EAC5B,C","sources":["webpack://goit-react-hw-08-phonebook/./src/components/Contact/index.module.scss?d475","components/Contact/index.js","hooks/useContactActions.js","webpack://goit-react-hw-08-phonebook/./src/components/ContactsList/index.module.scss?0c76","components/ContactsList/index.js","hooks/useFilteredContacts.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Contact_item__nL6Dk\",\"icon\":\"Contact_icon__FYpnS\",\"close\":\"Contact_close__RvsLo\",\"buttonsBox\":\"Contact_buttonsBox__X1n60\"};","import { Ring } from '@uiball/loaders';\nimport { useContactActions } from 'hooks/useContactActions';\nimport { IoMdContact } from 'react-icons/io';\nimport { CgCloseO } from 'react-icons/cg';\nimport PropTypes from 'prop-types';\nimport styles from './index.module.scss';\n\nexport const Contact = ({ options: { id, name, number } }) => {\n  const { handleDelete, isLoading } = useContactActions(id, name);\n\n  return (\n    <li className={styles.item}>\n      <IoMdContact className={styles.icon} />\n      <span>{name}:</span>\n      <span>{number}</span>\n      <div className={styles.buttonsBox}>\n        {!isLoading && (\n          <CgCloseO\n            className={styles.close}\n            type=\"button\"\n            disabled={isLoading}\n            onClick={handleDelete}\n          >\n            Delete\n          </CgCloseO>\n        )}\n        {isLoading && (\n          <Ring size={26} lineWeight={5} speed={2} color=\"#899194\" />\n        )}\n      </div>\n    </li>\n  );\n};\n\nContact.propTypes = {\n  options: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    number: PropTypes.string.isRequired,\n  }),\n};\n","import { toast } from 'react-toastify';\r\nimport { useDeleteContactMutation } from 'services/contacts';\r\n\r\nexport const useContactActions = (id, name) => {\r\n  const [deleteContact, { isLoading }] = useDeleteContactMutation();\r\n\r\n  const handleDeletePromised = async () => {\r\n    try {\r\n      const data = await deleteContact(id);\r\n      const innerError = await data.error;\r\n      if (!innerError) {\r\n        return Promise.resolve();\r\n      } else {\r\n        console.log('error :>> ', innerError);\r\n        return Promise.reject();\r\n      }\r\n    } catch (error) {\r\n      return Promise.reject();\r\n    }\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    toast.promise(handleDeletePromised(), {\r\n      pending: {\r\n        render() {\r\n          return `Deleting contact ${name}...`;\r\n        },\r\n      },\r\n      success: {\r\n        render() {\r\n          return `Contact ${name} was deletedðŸ‘Œ`;\r\n        },\r\n        autoClose: 2000,\r\n      },\r\n      error: {\r\n        render() {\r\n          return `Something went wrong ðŸ˜¢. Try again later`;\r\n        },\r\n        autoClose: 2000,\r\n      },\r\n    });\r\n  };\r\n  return { handleDelete, isLoading };\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"ContactsList_list__4jn2q\"};","import { Contact } from '../Contact';\nimport styles from './index.module.scss';\nimport { useFilteredContacts } from 'hooks/useFilteredContacts';\n\nexport default function ContactsList() {\n  const { contacts, filteredContacts } = useFilteredContacts();\n\n  return (\n    <>\n      {contacts && (\n        <ul className={styles.list}>\n          {filteredContacts.map(contact => (\n            <Contact key={contact.id} options={contact} />\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\n","import { useGetContactsQuery } from 'services/contacts';\nimport { getFilter } from 'redux/selectors';\nimport { useSelector } from 'react-redux';\nimport { useMemo } from 'react';\n\nexport const useFilteredContacts = () => {\n  const { data: contacts } = useGetContactsQuery();\n  const filter = useSelector(getFilter);\n\n  const filteredContacts = useMemo(() => {\n    return (\n      contacts\n        ?.filter(contact => {\n          return contact.name.toLowerCase().includes(filter.toLowerCase());\n        })\n        .sort((a, b) => a.name.localeCompare(b.name)) ?? []\n    );\n  }, [filter, contacts]);\n\n  return { filteredContacts, contacts };\n};\n"],"names":["Contact","options","id","name","number","useDeleteContactMutation","deleteContact","isLoading","handleDeletePromised","data","error","innerError","Promise","resolve","console","log","reject","handleDelete","toast","pending","render","success","autoClose","useContactActions","className","styles","type","disabled","onClick","Ring","size","lineWeight","speed","color","ContactsList","useFilteredContacts","contacts","filteredContacts","map","contact","useGetContactsQuery","filter","useSelector","getFilter","useMemo","toLowerCase","includes","sort","a","b","localeCompare"],"sourceRoot":""}