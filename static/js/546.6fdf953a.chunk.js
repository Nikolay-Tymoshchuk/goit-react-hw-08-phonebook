"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[546],{1546:function(e,n,r){r.r(n),r.d(n,{default:function(){return p}});var s=r(1413),t=r(5861),a=r(885),o=r(4687),c=r.n(o),i=r(5290),u=r(9085),d=r(4685),l=(r(5462),"ContactsForm_form__mz54l"),m=r(6192),h=r(184);var p=function(){var e=(0,i.cI)(),n=e.register,r=e.handleSubmit,o=e.formState.errors,p=e.reset,b=(0,d.wY)(),f=b.data,x=b.isFetching,g=(0,d.Tn)(),v=(0,a.Z)(g,2),w=v[0],j=v[1].isLoading,_=function(){var e=(0,t.Z)(c().mark((function e(n){var r,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.name,s=n.number,e.prev=1,e.next=4,f.find((function(e){return e.name.toLowerCase()===r.toLowerCase()}));case 4:if(!e.sent){e.next=8;break}return u.Am.error("Contact ".concat(r," is already exist")),e.abrupt("return");case 8:return e.next=10,w({name:r,number:s});case 10:u.Am.success("Contact ".concat(r," has been added")),p(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),u.Am.error("Oops! Something went wrong"),console.log("error :>> ",e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(n){return e.apply(this,arguments)}}();return(0,h.jsxs)("form",{className:l,onSubmit:function(e){return e.preventDefault()},autoComplete:"off",children:[(0,h.jsxs)("label",{children:["Name",(0,h.jsx)("input",(0,s.Z)({},n("name",{required:{value:!0,message:"This field is required"},pattern:{value:/^([a-zA-Z]{2,}\s?[a-zA-Z]{1,})$/,message:"Name should contain only Latin letters and space"}}))),o.name&&(0,h.jsx)("p",{className:"error",children:o.name.message})]}),(0,h.jsxs)("label",{children:["Number",(0,h.jsx)("input",(0,s.Z)({},n("number",{required:{value:!0,message:"This field is required"},pattern:{value:/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,message:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}}))),o.number&&(0,h.jsx)("p",{className:"error",children:o.number.message})]}),(j||x)&&(0,h.jsx)(m.Z,{color:"#5c6386"}),(0,h.jsxs)("button",{type:"submit",onClick:r(_),disabled:j||x,children:[(0,h.jsx)("span",{children:"Add contact"}),(0,h.jsx)("i",{})]})]})}}}]);
//# sourceMappingURL=546.6fdf953a.chunk.js.map