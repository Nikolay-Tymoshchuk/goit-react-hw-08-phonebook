{"version":3,"file":"static/js/817.1b83c9b5.chunk.js","mappings":"gSACA,EAAuB,gCAAvB,EAA+D,iC,6BCQhD,SAASA,IACtB,OAKIC,EAAAA,EAAAA,MAJFC,EADF,EACEA,SACAC,EAFF,EAEEA,aACaC,EAHf,EAGEC,UAAaD,OACbE,EAJF,EAIEA,MAGF,GAA+BC,EAAAA,EAAAA,MAA/B,eAAOC,EAAP,KAAgBC,EAAhB,KAAgBA,UAEVC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEXC,EAAQ,mCAAG,sGAASC,EAAT,EAASA,MAAOC,EAAhB,EAAgBA,SAAhB,kBAIHR,EAAM,CAAEO,MAAAA,EAAOC,SAAAA,IAJZ,2BAGXC,KAAQC,EAHG,EAGHA,KAAMC,EAHH,EAGGA,MAHH,UAKPT,GAASU,EAAAA,EAAAA,IAAO,CAAEF,KAAAA,EAAMC,MAAAA,KALjB,QAMbb,IACAM,EAAS,aAPI,kDASbS,EAAAA,GAAAA,MACE,mEAVW,0DAAH,sDAed,OACE,kBACEC,UAAWC,EACXT,SAAU,SAAAU,GAAC,OAAIA,EAAEC,gBAAN,EACXC,aAAa,MAHf,WAKE,uCAEE,4BACMxB,EAAS,QAAS,CACpByB,SAAU,CACRC,OAAO,EACPC,QAAS,0BAEXC,QAAS,CACPF,MACE,wEACFC,QAAS,gCAIdzB,EAAOW,QAAS,cAAGO,UAAWC,EAAd,SAA6BnB,EAAOW,MAAMc,cAG7D,0CAEE,0BACEE,KAAK,YACD7B,EAAS,WAAY,CACvByB,SAAU,yBACVK,UAAW,CACTJ,MAAO,EACPC,QAAS,0CAEXI,UAAW,CACTL,MAAO,GACPC,QAAS,0CAEXC,QAAS,CACPF,MAAO,2CACPC,QACE,wFAIPzB,EAAOY,WACN,cAAGM,UAAWC,EAAd,SAA6BnB,EAAOY,SAASa,aAGhDpB,IAAa,SAACyB,EAAA,EAAD,CAAQC,MAAM,aAC5B,oBACEJ,KAAK,SACLK,QAASjC,EAAaW,GACtBuB,SAAU5B,EAHZ,WAKE,sCACA,sBAIP,C","sources":["webpack://goit-react-hw-08-phonebook/./src/pages/AuthorizationForm/index.module.scss?2c62","pages/AuthorizationForm/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"AuthorizationForm_form__V1KOV\",\"error\":\"AuthorizationForm_error__R9wNw\"};","import { useForm } from 'react-hook-form';\nimport { useLoginMutation } from 'services/auth';\nimport { useDispatch } from 'react-redux';\nimport { signIn } from 'redux/authSlice';\nimport { useNavigate } from 'react-router-dom';\nimport styles from './index.module.scss';\nimport { Pulsar } from '@uiball/loaders';\nimport { toast } from 'react-toastify';\n\nexport default function AuthForm() {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n  } = useForm();\n\n  const [login, { isLoading }] = useLoginMutation();\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const onSubmit = async ({ email, password }) => {\n    try {\n      const {\n        data: { user, token },\n      } = await login({ email, password });\n      await dispatch(signIn({ user, token }));\n      reset();\n      navigate('/contacts');\n    } catch (error) {\n      toast.error(\n        'Something went wrong. Maybe you entered wrong email or password'\n      );\n    }\n  };\n\n  return (\n    <form\n      className={styles.form}\n      onSubmit={e => e.preventDefault()}\n      autoComplete=\"off\"\n    >\n      <label>\n        Email*\n        <input\n          {...register('email', {\n            required: {\n              value: true,\n              message: 'This field is required',\n            },\n            pattern: {\n              value:\n                /^([a-z0-9_-]+\\.)*[a-z0-9_-]+@[a-z0-9_-]+(\\.[a-z0-9_-]+)*\\.[a-z]{2,6}$/,\n              message: 'Please enter valid email',\n            },\n          })}\n        />\n        {errors.email && <p className={styles.error}>{errors.email.message}</p>}\n      </label>\n\n      <label>\n        Password*\n        <input\n          type=\"password\"\n          {...register('password', {\n            required: 'This field is required',\n            minLength: {\n              value: 7,\n              message: 'Password must be at least 7 characters',\n            },\n            maxLength: {\n              value: 12,\n              message: 'Password must be at most 12 characters',\n            },\n            pattern: {\n              value: /^(?=.*d)(?=.*[a-z])(?=.*[A-Z])(?!.*s).*$/,\n              message:\n                'Password must contain at least one digit, one lowercase and one uppercase letter',\n            },\n          })}\n        />\n        {errors.password && (\n          <p className={styles.error}>{errors.password.message}</p>\n        )}\n      </label>\n      {isLoading && <Pulsar color=\"#5c6386\" />}\n      <button\n        type=\"submit\"\n        onClick={handleSubmit(onSubmit)}\n        disabled={isLoading}\n      >\n        <span>Submit</span>\n        <i></i>\n      </button>\n    </form>\n  );\n}\n"],"names":["AuthForm","useForm","register","handleSubmit","errors","formState","reset","useLoginMutation","login","isLoading","dispatch","useDispatch","navigate","useNavigate","onSubmit","email","password","data","user","token","signIn","toast","className","styles","e","preventDefault","autoComplete","required","value","message","pattern","type","minLength","maxLength","Pulsar","color","onClick","disabled"],"sourceRoot":""}