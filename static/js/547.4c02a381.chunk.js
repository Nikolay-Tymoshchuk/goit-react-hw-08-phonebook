"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[547],{2547:function(e,s,a){a.r(s),a.d(s,{default:function(){return _}});var r=a(1413),t=a(5861),n=a(885),i=a(4687),o=a.n(i),l=a(5290),u=a(2791),c=a(7554),d=a(5048),m=a(9176),p="RegistrationForm_form__zpofU",h="RegistrationForm_error__0WkNn",f=a(6871),w=a(9085),g=a(6192),x=a(184);function _(){var e=(0,l.cI)(),s=e.register,a=e.handleSubmit,i=e.formState.errors,_=e.watch,v=e.reset,b=(0,c.Bl)(),j=(0,n.Z)(b,2),k=j[0],z=j[1].isLoading,Z=(0,d.I0)(),q=(0,u.useRef)({});q.current=_("password","");var N=(0,f.s0)(),y=function(){var e=(0,t.Z)(o().mark((function e(s){var a,r,t,n,i,l,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.name,r=s.email,t=s.password,e.prev=1,e.next=4,k({name:a,email:r,password:t});case 4:return n=e.sent,i=n.data,l=i.user,u=i.token,e.next=10,Z((0,m.zB)({user:l,token:u}));case 10:v(),N("/contacts"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),w.Am.error("Something went wrong. Maybe this email is already in use");case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(s){return e.apply(this,arguments)}}();return(0,x.jsxs)("form",{className:p,onSubmit:function(e){return e.preventDefault()},autoComplete:"off",children:[(0,x.jsxs)("label",{children:["Name*",(0,x.jsx)("input",(0,r.Z)({},s("name",{required:{value:!0,message:"This field is required"},pattern:{value:/^([a-zA-Z]{2,}\s?[a-zA-Z]{1,})/,message:"Name should contain only Latin letters and space"}}))),i.name&&(0,x.jsx)("p",{className:h,children:i.name.message})]}),(0,x.jsxs)("label",{children:["Email*",(0,x.jsx)("input",(0,r.Z)({},s("email",{required:{value:!0,message:"This field is required"},pattern:{value:/^([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/,message:"Please enter valid email"}}))),i.email&&(0,x.jsx)("p",{className:h,children:i.email.message})]}),(0,x.jsxs)("label",{children:["Password*",(0,x.jsx)("input",(0,r.Z)({type:"password"},s("password",{required:"This field is required",minLength:{value:7,message:"Password must be at least 7 characters"},maxLength:{value:12,message:"Password must be at most 12 characters"},pattern:{value:/^(?=.*d)(?=.*[a-z])(?=.*[A-Z])(?!.*s).*$/,message:"Password must contain at least one digit, one lowercase and one uppercase letter"}}))),i.password&&(0,x.jsx)("p",{className:h,children:i.password.message})]}),(0,x.jsxs)("label",{children:["Confirm password*",(0,x.jsx)("input",(0,r.Z)({type:"password"},s("password_confirm",{required:"This field is required",validate:function(e){return e===q.current||"The passwords do not match"}}))),i.password_confirm&&(0,x.jsx)("p",{className:h,children:i.password_confirm.message})]}),z&&(0,x.jsx)(g.Z,{color:"#5c6386"}),(0,x.jsxs)("button",{type:"submit",onClick:a(y),children:[(0,x.jsx)("span",{children:"Submit"}),(0,x.jsx)("i",{})]})]})}}}]);
//# sourceMappingURL=547.4c02a381.chunk.js.map